/**
 * name: @pfadfinden/bdp_template
 * version: v6.0.0
 * license: GPL-2.0-or-later
 * author: Christian Schrebe
 * homepage: https://www.pfadfinden.de/
 */
try{var l=JSON.parse(document.getElementById("om-cookie-consent").innerHTML),v=[]}catch{console.log("OM Cookie Manager: No Cookie Groups found! Maybe you have forgot to set the page id inside the constants of the extension")}document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll("[data-omcookie-panel-save]"),t=document.querySelectorAll("[data-omcookie-panel-show]"),e,n=document.querySelectorAll("[data-omcookie-panel]")[0];if(n!==void 0){var i=!0,o=f.getCookie("omCookieConsent");if(o!==null&&o.length>0){i=!1;var c=document.querySelectorAll("[data-omcookie-panel-grp]"),r=o.split(","),u="";for(e=0;e<r.length;e++)if(r[e]!=="dismiss"){var s=r[e].split(".");parseInt(s[1])===1&&(d(s[0]),u+=s[0]+",")}for(e=0;e<c.length;e++)u.indexOf(c[e].value)!==-1&&(c[e].checked=!0),o.indexOf(c[e].value)===-1&&(i=!0);h(v),m(["cookieconsentscriptsloaded"])}for(i===!0&&setTimeout(function(){n.classList.toggle("active")},1e3),e=0;e<a.length;e++)a[e].addEventListener("click",g,!1);for(e=0;e<t.length;e++)t[e].addEventListener("click",function(){n.classList.toggle("active")},!1)}});var g=function(){const a=this.getAttribute("data-omcookie-panel-save"),t=document.querySelectorAll("[data-omcookie-panel-grp]");var e;let n=f.getCookie("omCookieConsent");if(n===null||n.length<=0)n="";else for(e=0;e<t.length;e++)n=n.replace(new RegExp(t[e].value+"\\S{3}"),"");switch(a){case"all":for(e=0;e<t.length;e++)d(t[e].value),n+=t[e].value+".1,",t[e].checked=!0;break;case"save":for(e=0;e<t.length;e++)t[e].checked===!0?(d(t[e].value),n+=t[e].value+".1,"):n+=t[e].value+".0,";break;case"min":for(e=0;e<t.length;e++)t[e].getAttribute("data-omcookie-panel-essential")!==null?(d(t[e].value),n+=t[e].value+".1,"):(n+=t[e].value+".0,",t[e].checked=!1);break}n=n.replace("dismiss",""),n+="dismiss",f.setCookie("omCookieConsent",n,364),h(v),m(["cookieconsentsave","cookieconsentscriptsloaded"]),setTimeout(function(){document.querySelectorAll("[data-omcookie-panel]")[0].classList.toggle("active")},350)},m=function(a){a.forEach(function(t){var e=new CustomEvent(t,{bubbles:!0});document.querySelectorAll("[data-omcookie-panel]")[0].dispatchEvent(e)})},h=function(a){window.dataLayer=window.dataLayer||[],a.forEach(function(t){window.dataLayer.push({event:t})})},d=function(a){if(l[a]!==void 0){for(var t in l[a])if(l[a].hasOwnProperty(t)){var e=l[a][t];if(t==="gtm"){l[a][t]&&v.push(l[a][t]);continue}for(var n in e)if(e.hasOwnProperty(n)&&Array.isArray(e[n])){var i="";e[n].forEach(function(u){i+=u});var o=document.createRange();if(n==="header"){o.selectNode(document.getElementsByTagName("head")[0]);var c=o.createContextualFragment(i);document.getElementsByTagName("head")[0].appendChild(c)}else{o.selectNode(document.getElementsByTagName("body")[0]);var r=o.createContextualFragment(i);document.getElementsByTagName("body")[0].appendChild(r)}}}delete l[a]}},f={getCookie:function(a){var t=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return t?t[2]:null},setCookie:function(a,t,e){var n=new Date;n.setTime(n.getTime()+24*60*60*1e3*e),document.cookie=a+"="+t+";path=/;expires="+n.toGMTString()+";SameSite=Lax"},deleteCookie:function(a){setCookie(a,"",-1)}};(function(){if(typeof window.CustomEvent=="function")return!1;function a(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}window.CustomEvent=a})();
